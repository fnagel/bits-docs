<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Reactivity &amp; DOM binding | Bits - A reactive JS micro framework</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Only a little bit inspired by vue.js">
    
    <link rel="preload" href="/assets/css/styles.styles.4d89bd9c.css" as="style"><link rel="preload" href="/assets/js/app.ceb11665.js" as="script"><link rel="preload" href="/assets/js/0.bad7ec45.js" as="script"><link rel="preload" href="/assets/js/63.6e147b29.js" as="script"><link rel="preload" href="/assets/js/1.9dffe48c.js" as="script"><link rel="prefetch" href="/assets/js/10.81be43b0.js"><link rel="prefetch" href="/assets/js/11.d5251be1.js"><link rel="prefetch" href="/assets/js/12.98ae1eac.js"><link rel="prefetch" href="/assets/js/13.57110d0d.js"><link rel="prefetch" href="/assets/js/14.15113094.js"><link rel="prefetch" href="/assets/js/15.5504027b.js"><link rel="prefetch" href="/assets/js/16.8ce37bd1.js"><link rel="prefetch" href="/assets/js/17.4b1c7895.js"><link rel="prefetch" href="/assets/js/18.3c07a983.js"><link rel="prefetch" href="/assets/js/19.7d972923.js"><link rel="prefetch" href="/assets/js/2.a1f78297.js"><link rel="prefetch" href="/assets/js/20.0015305e.js"><link rel="prefetch" href="/assets/js/21.f7cc6d3f.js"><link rel="prefetch" href="/assets/js/22.c15c3a01.js"><link rel="prefetch" href="/assets/js/23.908dcfce.js"><link rel="prefetch" href="/assets/js/24.9cdedcf4.js"><link rel="prefetch" href="/assets/js/25.40138f40.js"><link rel="prefetch" href="/assets/js/26.7b3d0520.js"><link rel="prefetch" href="/assets/js/27.562280fb.js"><link rel="prefetch" href="/assets/js/28.8e884465.js"><link rel="prefetch" href="/assets/js/29.16aa30df.js"><link rel="prefetch" href="/assets/js/3.405b64a7.js"><link rel="prefetch" href="/assets/js/30.2eb54341.js"><link rel="prefetch" href="/assets/js/31.ed210fab.js"><link rel="prefetch" href="/assets/js/32.c8565251.js"><link rel="prefetch" href="/assets/js/33.6e561443.js"><link rel="prefetch" href="/assets/js/34.7a863236.js"><link rel="prefetch" href="/assets/js/35.e8967cea.js"><link rel="prefetch" href="/assets/js/36.53928c0c.js"><link rel="prefetch" href="/assets/js/37.a7ce25b1.js"><link rel="prefetch" href="/assets/js/38.de99b582.js"><link rel="prefetch" href="/assets/js/39.18745c89.js"><link rel="prefetch" href="/assets/js/4.756100b3.js"><link rel="prefetch" href="/assets/js/40.b5580cf8.js"><link rel="prefetch" href="/assets/js/41.602ffb29.js"><link rel="prefetch" href="/assets/js/42.5c6d9696.js"><link rel="prefetch" href="/assets/js/43.77699e3a.js"><link rel="prefetch" href="/assets/js/44.7169439e.js"><link rel="prefetch" href="/assets/js/45.d30d79bd.js"><link rel="prefetch" href="/assets/js/46.e729d864.js"><link rel="prefetch" href="/assets/js/47.71ceb096.js"><link rel="prefetch" href="/assets/js/48.ae7c8f01.js"><link rel="prefetch" href="/assets/js/49.12e4567f.js"><link rel="prefetch" href="/assets/js/5.97e976e6.js"><link rel="prefetch" href="/assets/js/50.4683a302.js"><link rel="prefetch" href="/assets/js/51.d149a60d.js"><link rel="prefetch" href="/assets/js/52.f91e1568.js"><link rel="prefetch" href="/assets/js/53.6112c61b.js"><link rel="prefetch" href="/assets/js/54.6ff35c59.js"><link rel="prefetch" href="/assets/js/55.195186fe.js"><link rel="prefetch" href="/assets/js/56.4935d54b.js"><link rel="prefetch" href="/assets/js/57.9f548398.js"><link rel="prefetch" href="/assets/js/58.f13587ae.js"><link rel="prefetch" href="/assets/js/59.8e0c1450.js"><link rel="prefetch" href="/assets/js/6.fe375a82.js"><link rel="prefetch" href="/assets/js/60.a9f9f7ff.js"><link rel="prefetch" href="/assets/js/61.015222d5.js"><link rel="prefetch" href="/assets/js/62.b3cbc846.js"><link rel="prefetch" href="/assets/js/64.573f094d.js"><link rel="prefetch" href="/assets/js/65.083b0b20.js"><link rel="prefetch" href="/assets/js/66.52d39eb1.js"><link rel="prefetch" href="/assets/js/67.fbe5fad8.js"><link rel="prefetch" href="/assets/js/7.9d9bde42.js"><link rel="prefetch" href="/assets/js/8.4f534c63.js"><link rel="prefetch" href="/assets/js/9.c713d794.js">
    <link rel="stylesheet" href="/assets/css/styles.styles.4d89bd9c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Bits - A reactive JS micro framework</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  API
</a></div> <a href="https://github.com/labor-digital/bits" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  API
</a></div> <a href="https://github.com/labor-digital/bits" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/guide/" aria-current="page" class="sidebar-link">Getting started</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Essentials</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/essentials/Lifecycle.html" class="sidebar-link">Lifecycle</a></li><li><a href="/guide/essentials/Reactivity.html" aria-current="page" class="active sidebar-link">Reactivity &amp; DOM binding</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/essentials/Reactivity.html#state-management" class="sidebar-link">State management</a></li><li class="sidebar-sub-header"><a href="/guide/essentials/Reactivity.html#data" class="sidebar-link">Data</a></li><li class="sidebar-sub-header"><a href="/guide/essentials/Reactivity.html#bind-data-to-dom-elements" class="sidebar-link">Bind data to DOM elements</a></li><li class="sidebar-sub-header"><a href="/guide/essentials/Reactivity.html#properties" class="sidebar-link">Properties</a></li><li class="sidebar-sub-header"><a href="/guide/essentials/Reactivity.html#bind-event-listeners" class="sidebar-link">Bind event listeners</a></li><li class="sidebar-sub-header"><a href="/guide/essentials/Reactivity.html#bind-data-to-dom-attributes" class="sidebar-link">Bind data to DOM attributes</a></li><li class="sidebar-sub-header"><a href="/guide/essentials/Reactivity.html#computed-properties" class="sidebar-link">Computed properties</a></li><li class="sidebar-sub-header"><a href="/guide/essentials/Reactivity.html#summary" class="sidebar-link">Summary</a></li></ul></li><li><a href="/guide/essentials/DomAccess.html" class="sidebar-link">Accessing the DOM</a></li><li><a href="/guide/essentials/ClassAndStyle.html" class="sidebar-link">Class and style bindings</a></li><li><a href="/guide/essentials/FormBinding.html" class="sidebar-link">Form binding</a></li><li><a href="/guide/essentials/EventsAndProxy.html" class="sidebar-link">Events and $proxy</a></li><li><a href="/guide/essentials/DependencyInjection.html" class="sidebar-link">Dependency Injection</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Advanced</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/advanced/AdvancedReactivity.html" class="sidebar-link">Advanced reactivity</a></li><li><a href="/guide/advanced/BitInteraction.html" class="sidebar-link">Bit interaction</a></li><li><a href="/guide/advanced/HtmlAndTemplates.html" class="sidebar-link">HTML and Templates</a></li><li><a href="/guide/advanced/AsyncBits.html" class="sidebar-link">Async Bits</a></li><li><a href="/guide/advanced/Mixins.html" class="sidebar-link">Mixins</a></li><li><a href="/guide/advanced/HotReload.html" class="sidebar-link">Hot Reload</a></li><li><a href="/guide/advanced/CodeTemplate.html" class="sidebar-link">Code template</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Plugins</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/plugins/WritePlugins.html" class="sidebar-link">Write Plugins</a></li><li><a href="/guide/plugins/Translator.html" class="sidebar-link">Translator</a></li><li><a href="/guide/plugins/LitHtml.html" class="sidebar-link">Lit Html</a></li><li><a href="/guide/plugins/Store.html" class="sidebar-link">App State</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="reactivity-dom-binding"><a href="#reactivity-dom-binding" class="header-anchor">#</a> Reactivity &amp; DOM binding</h1> <p>The main benefit of working with bits is the interaction between your data and the DOM.
While mostly designed for server side rendered HTML your data inside of bits will probably not
reach the extent it does in your angular/vue/react application; however reacting to
user inputs or state changes without worrying about the output will help you a lot in your daily work.</p> <h2 id="state-management"><a href="#state-management" class="header-anchor">#</a> State management</h2> <p>Under the hood bits uses <a href="https://mobx.js.org/" target="_blank" rel="noopener noreferrer">mobx<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to handle the state management inside your bit. It is a battle tested library
that does most of the heavy lifting for us.</p> <h2 id="data"><a href="#data" class="header-anchor">#</a> Data</h2> <p>Every property inside your bit class can be made reactive using the <code>Data</code> decorator.
It will tell the bit app, that it should actively watch this property for any changes.</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>AbstractBit<span class="token punctuation">,</span> Data<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@labor-digital/bits'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Reactivity</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractBit</span> <span class="token punctuation">{</span>
    
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Data</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">protected</span> counter<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="bind-data-to-dom-elements"><a href="#bind-data-to-dom-elements" class="header-anchor">#</a> Bind data to DOM elements</h2> <p>Without any way to output reactive data is quite boring, isn't it. So we have to create some kind of DOM node
that will show the content of our &quot;counter&quot; variable for us.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b-mount</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reactivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>counter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b-mount</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>With <code>data-bind</code> you can tell your bit, that it should bind the value of your &quot;counter&quot; property to the content
of the node.</p> <div class="preview" data-v-5fb73310><a href="/demo/examples/essentials-reactivity.html" target="_blank" class="preview__link" data-v-5fb73310>Open the example in a new tab</a> <iframe src="/demo/examples/essentials-reactivity.html" style="height:100px;" data-v-5fb73310></iframe></div> <p>Okay, as you see, the &quot;0&quot; we set as a default for our counter is now shown in your node, but what now?</p> <h2 id="properties"><a href="#properties" class="header-anchor">#</a> Properties</h2> <p>We could extend our &quot;Data&quot; out to the attribute of the HTML node that represents our bit.
With this we could allow the HTML to define the initial value of our counter.</p> <p>We can do this by replacing the <code>Data()</code> decorator with the <code>Property()</code> decorator instead.</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>AbstractBit<span class="token punctuation">,</span> Property<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@labor-digital/bits'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Reactivity</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractBit</span> <span class="token punctuation">{</span>
    
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Property</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token operator">:</span> Number<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">protected</span> counter<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Please note that, for numeric values you have to tell the script that it should cast the value as a number for you.
You can do this by providing &quot;Number&quot; as type configuration. For more advanced conversions you could also define a converter function,
to serialize/unserialize the data for the html attribute.</p> <p>With that in place you can set the initial value of &quot;counter&quot; through the &quot;counter&quot; attribute on your <code>b-mount</code></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b-mount</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reactivity<span class="token punctuation">&quot;</span></span> <span class="token attr-name">counter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>counter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b-mount</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Please note, that we set the attribute directly on the <code>b-mount</code> tag. If you run the script now, you see that the value starts with 10 instead of 0.</p> <div class="preview" data-v-5fb73310><a href="/demo/examples/essentials-reactivity-property.html" target="_blank" class="preview__link" data-v-5fb73310>Open the example in a new tab</a> <iframe src="/demo/examples/essentials-reactivity-property.html" style="height:100px;" data-v-5fb73310></iframe></div> <h2 id="bind-event-listeners"><a href="#bind-event-listeners" class="header-anchor">#</a> Bind event listeners</h2> <p>Next we want to somehow trigger an update on our counter to see how the reactivity works.
To make this, we could set a timeout or interval, but instead, lets create a button,
that listens to a click and then counts our counter up by one.</p> <p>First we adjust our HTML a bit, to add our button</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b-mount</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reactivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>counter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>counter-button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Count up!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b-mount</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Next, we will add a new method to our bit that handles the click on the button</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>AbstractBit<span class="token punctuation">,</span> Property<span class="token punctuation">,</span> Listener<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@labor-digital/bits'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Reactivity</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractBit</span> <span class="token punctuation">{</span>
    
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Property</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token operator">:</span> Number<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">protected</span> counter<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Listener</span></span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token string">'#counter-button'</span><span class="token punctuation">)</span>
    <span class="token keyword">protected</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>With the <code>Listener</code> decorator you can bind a method in your bit as an event listener.
The first argument is the type of event you want to listen to. This is any valid javascript event, including custom events.
As a second argument, you can provide the &quot;target&quot; on which the listener should be bound. This can be a css-selector, a callback that returns a DOM element, or a &quot;ref&quot; selector.
If you omit the &quot;target&quot;, the listener will be bound to the <code>b-mount</code> node.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You can also bind a listener to multiple elements at once, by using a selector that resolves to
multiple nodes instead.</p></div> <p>Inside our event handler we simply increase the value by one every time it is executed.
And with that, it just works 😉</p> <div class="preview" data-v-5fb73310><a href="/demo/examples/essentials-reactivity-button.html" target="_blank" class="preview__link" data-v-5fb73310>Open the example in a new tab</a> <iframe src="/demo/examples/essentials-reactivity-button.html" style="height:150px;" data-v-5fb73310></iframe></div> <h2 id="bind-data-to-dom-attributes"><a href="#bind-data-to-dom-attributes" class="header-anchor">#</a> Bind data to DOM attributes</h2> <p>In the &quot;properties&quot; section you learned that you can read the content of attributes on the <code>b-mount</code> to read
values, but what about setting the attributes of a DOM node?</p> <p>You can do that to, instead of &quot;data-bind&quot; we now use the &quot;data-bind-attr&quot; attribute to tell your bit, which property
it should bind to which attribute on your node.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b-mount</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reactivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>counter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-bind-attr</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title:counter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>counter-button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Count up!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b-mount</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>We create a binding between the &quot;title&quot; attribute and your &quot;counter&quot; property. Now, when you hover over your counter output, you will see the number in the tooltip as well.</p> <div class="preview" data-v-5fb73310><a href="/demo/examples/essentials-reactivity-bind-attr.html" target="_blank" class="preview__link" data-v-5fb73310>Open the example in a new tab</a> <iframe src="/demo/examples/essentials-reactivity-bind-attr.html" style="height:150px;" data-v-5fb73310></iframe></div> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You can bind multiple attributes to properties, by separating the maps by a comma.
This would look like: data-bind-attr=&quot;title:counter,aria-label:labelProperty&quot;</p></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>You can't add attribute binding to the containing <code>b-mount</code> tag! You can add attribute binding
to child <code>b-mount</code> tags, tho! Read more about this in the <a href="/guide/BitInteraction.html#props-on-bits">props section</a>.</p></div> <h2 id="computed-properties"><a href="#computed-properties" class="header-anchor">#</a> Computed properties</h2> <p>While our &quot;numeric title&quot; is nice and all, let's say we want something more speaking as a title.
To do so, we will create a &quot;computed&quot; property. It is reactive like a normal property would be, but
also runs a function before it is returned; which will allow us to add some text in front of our counter number.</p> <p>As an additional benefit the &quot;filter&quot; is only executed once, the value is then cached and re-used until
the data used to generate it has changed.</p> <p>To create a computed property we use the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get" target="_blank" rel="noopener noreferrer">es6 getter syntax<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.
Bits will automatically detect this as a computed property and configure mobx automatically.</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>AbstractBit<span class="token punctuation">,</span> Property<span class="token punctuation">,</span> Listener<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@labor-digital/bits'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Reactivity</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractBit</span> <span class="token punctuation">{</span>
    
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Property</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token operator">:</span> Number<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">protected</span> counter<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    
    <span class="token keyword">protected</span> <span class="token keyword">get</span> <span class="token function">title</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'The counter value is currently: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Listener</span></span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token string">'#counter-button'</span><span class="token punctuation">)</span>
    <span class="token keyword">protected</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Now, we simply point the attribute binding from &quot;counter&quot; to our &quot;title&quot; property. If you hover above the data-binding now,
you will see how it says: 'The counter value is currently: 10' instead.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b-mount</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reactivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>counter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-bind-attr</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title:title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>counter-button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Count up!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b-mount</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="preview" data-v-5fb73310><a href="/demo/examples/essentials-reactivity-computed.html" target="_blank" class="preview__link" data-v-5fb73310>Open the example in a new tab</a> <iframe src="/demo/examples/essentials-reactivity-computed.html" style="height:150px;" data-v-5fb73310></iframe></div> <h2 id="summary"><a href="#summary" class="header-anchor">#</a> Summary</h2> <p>To sum this chapter up, here is a slightly different example, that shows how you can go further.</p> <div class="preview" data-v-5fb73310><a href="/demo/examples/essentials-reactivity-alternative.html" target="_blank" class="preview__link" data-v-5fb73310>Open the example in a new tab</a> <iframe src="/demo/examples/essentials-reactivity-alternative.html" style="height:165px;" data-v-5fb73310></iframe></div> <p>The example uses the following code:</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>AbstractBit<span class="token punctuation">,</span> Data<span class="token punctuation">,</span> Listener<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@labor-digital/bits'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ReactivityAlternative</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractBit</span>
<span class="token punctuation">{</span>
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Data</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    counter<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Data</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    text<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Listener</span></span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token string">'#add-button'</span><span class="token punctuation">)</span>
    <span class="token keyword">protected</span> <span class="token function">onAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>text <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>text<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token string">','</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Listener</span></span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token string">'#clear-button'</span><span class="token punctuation">)</span>
    <span class="token keyword">protected</span> <span class="token function">onClear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b-mount</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reactivity/alternative<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-bind-attr</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title:text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add-button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Add number<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clear-button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Clear<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    
        Output: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span> <span class="token attr-name">data-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b-mount</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/labor-digital/bits-docs/edit/master/docs/guide/essentials/Reactivity.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/essentials/Lifecycle.html" class="prev">
        Lifecycle
      </a></span> <span class="next"><a href="/guide/essentials/DomAccess.html">
        Accessing the DOM
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ceb11665.js" defer></script><script src="/assets/js/0.bad7ec45.js" defer></script><script src="/assets/js/63.6e147b29.js" defer></script><script src="/assets/js/1.9dffe48c.js" defer></script>
  </body>
</html>
